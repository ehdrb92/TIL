# 데이터베이스 설계

![database](./image/1st%20project%20database.png)

이번 프로젝트에서 전체적인 데이터베이스의 구조는 위와 같이 설계하였다. 이미지를 보면 확인할 수 있듯이 전형적인 커머스 사이트의 구조를 가지고 있다.

각 테이블별로 설계를 한 이유에 대해 알아보도록 하자.

## 상품 데이터베이스의 설계

이번 프로젝트는 잡지에 대한 커머스 사이트이므로 해당 잡지에 대한 정보를 상품 테이블에 담고 있다.

상품 테이블의 `main_category`와 `sub_category`항목이 카테고리 테이블을 `N:1`로 참고하고 있다.

메인과 서브 카테고리를 나눈 것은 이번 기획에서 `magazine_k`를 브랜드에 관한 카테고리로 잡고, 이에 대해 서브 카테고리로 패션, 뷰티, 식품 등을 잡았기 때문이다. 그리고 상품의 이미지를 저장하기 위한 상품 이미지 테이블을 만들고 상품 테이블을 `1:1`로 참조하도록 하였다.

## 유저 테이블의 설계

유저 테이블은 특별히 다른 점은 없다. 전체적으로 이번 기획에서 회원 관리에 필요한 항목들을 테이블에 포함시켜 두었고, 유저 테이블은 다른 테이블을 참조하지 않는다. 여기서 리뷰 테이블까지 함깨 얘기 한다면 리뷰는 `N:1`의 관계로 엮어주었다.

## 주문 테이블의 설계

주문 테이블은 주문, 주문한 상품, 주문한 상태 세 개로 나누었다. 처음에는 상품이 장바구니에 들어갈 때 카트 테이블을 두어 중간에 거치도록 할 계획이었으나 계획의 방향을 바꾸어 주문 상태 테이블에 장바구니 상태를 두고 해당 데이터를 참조하도록 하기위하여 위와 같이 설계하였다. 주문 테이블은 주문 상태 테이블을 `N:1`로 참조하고, 주문 상품 테이블은 상품 테이블과 주문 테이블을 `N:1`로 참조한다.
