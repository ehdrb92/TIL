데이터베이스의 락에는 두 가지 개념이 있다. Optimistic Lock과 Pessimistic Lock이다.

* Optimistic Lock

    이 장법은 충돌이 거의 없다는 가정에 사용한다. 특징은 버전을 관리하는 것이다. 특정 작업을 하기 전에 먼저 버전을 확인한다. 작업이 끝나고 나면 버전을 업데이트 해준다. 만약 두 클라이언트로 부터 거의 동시에 하나의 데이터에 작업이 들어갔다고 하면, 같은 버전을 보고 작업을 시작했을 것이다. 그런데 먼저 작업이 끝난 쪽에서 커밋을 하고 버전을 변경했다고 하자. 그리고 그 이후 수정 작업이 끝난 쪽에서 커밋을 하려고 버전을 확인하는데 처음과 버전이 다르다면 이는 충돌이 발생했다고 생각하고 롤백이 된다.

    * 이 방식은 데드락 가능성이 적으며 작업처리 속도가 빠르다
    * 만약 출돌이 발생하게 되면 오버헤드가 발생할 수 있다

* Pessimistic Lock

    이 방법은 충돌이 자주 일어날 수 있다는 가정에 사용한다. 특징은 락을 건 동안 동시에 작업이 진행될 수 없다. 흔히 알고있는 전형적인 락 방식이다. 어떤 데이터에 작업이 진행되면 락을 걸어두게 되고, 해당 데이터에 다른 작업은 접근할 수 없다. 작업이 끝나면 다른 작업이 락을 획득하여 작업을 이어갈 수 있다.

    * 충돌에 대한 오버헤드가 적고, 무결성이 지키기 용이하다
    * 충돌이 없을 경우 오버헤드가 자주 발생

    * Shared Lock: 다른 사용자가 동시에 읽을 수는 있지만, Update/Delete를 방지한다.
    * Exclusive Lock: 다른 사용자가 읽기, 수정, 삭제 모두를 불가능하게 한다.
