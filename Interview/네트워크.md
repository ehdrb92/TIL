# 네트워크 관련 면접 질문정리

## https://www.google.com/ 을 접속할 때 일어나는 일

* 브라우저 URL 파싱
* 도메인을 IP 주소로 변환
* 라우터를 통해 목적지 게이트웨이까지 이동
* ARP를 통해 IP 주소를 MAC 주소로 변환
* 대상 서버와 TCP 소켓 연결
* HTTP(HTTPS) 프로토콜로 요청, 응답
* 브라우저에서 응답을 해석

## TCP와 UDP의 차이점에 대해서 설명해보세요.

TCP는 패킷 사이의 순서를 보장하고 연결지향 프로토콜을 사용해서 연결을 하여 신뢰성을 구축하서 수신여부를 확인하며 `가상회선 패킷 교환 방식`을 사용한다.

UDP는 순서를 보장하지 않고 수신 여부를 확인하지 않으며 단순히 데이터만 주는 `데이터그램 패킷 교환 방식`을 사용한다.

## TCP 3, 4 way handshake에 대해서 설명해보세요.

### 3 way handshake

3-웨이 핸드쉐이크란 클라이언트와 서버가 통신할 때 다음의 세 단계 과정을 거치게 된다.

    클라이언트는 서버에 클라이언트의 ISN을 담아 SYN을 보낸다. ISN은 새로운 TCP 연결의 첫 번째 패킷에 할당된 임의의 시퀀스 번호를 말하며 이는 장치마다 다를 수 있다.

    서버는 클라이언트의 SYN을 수신하고 서버의 ISN을 보내며 승인번호로 클라이언트의 ISN + 1을 보낸다.

    클라이언트는 서버의 ISN + 1한 값인 승인번호를 담아 ACK를 서버에 보낸다.

위의 과정이후 신뢰성이 구축되면 데이터 전송이 시작된다.

### 4 way handshake

4-웨이 핸드쉐이크는 다음의 과정을 통하여 TCP연결을 헤제한다.

    먼저 클라이언트가 연결을 닫으려고 할 때 FIN으로 설정된 세그먼트를 보낸다. 그리고 클라이언트는 FIN_WAIT_1 상태로 들어가고 서버의 응답을 기다린다.

    서버는 클라이언트로 ACK라는 승인 세그먼트를 보낸다. 그리고 CLOSE_WAIT 상태에 들어간다.
    클라이언트가 세그먼트를 받으면 FIN_WAIT_2 상태에 들어간다.

    서버는 ACK를 보내고 일정 시간 이후에 클라이언트에 FIN이라는 세그먼트를 보낸다.

    클라이언트는 TIME_WAIT 상태가 되고 다시 서버로 ACK를 보내서 서버는 CLOSED 상태가 된다.
    이후 클라이언트는 어느 정도의 시간을 대기한 후 연결이 닫히고 클라이언트와 서버의 모든 자원이 헤제된다.

## HTTPS에 대해서 설명하고 SSL Handshake에 대해서 설명해보세요.

HTTPS는 Hyper Text Transfer Protocol Secure의 약자이다. 기존의 HTTP 방식에 보안을 강화한 것이다.

HTTPS 는 SSL Handshake 과정을 거쳐 보안의 신뢰성을 확보한다. 간단하게 아래의 과정을 통하게 된다.

    클라이언트가 Server에 접속을 시도하며 패킷을 특정한 정보들을 담은 패킷을 전달한다.
    해당 패킷을 받은 서버는 자신의 SSL 인증서를 클라이언트에게 전달한다. 인증서 내부에는 서버에서 발행한 공개키가 포함된다.
    클라이언트는 서버에서 CA의 개인키로 암호화된 SSL 인증서를 CA 공개키로 복호화 한다. 복호화에 성공하면 해당 공개키의 신뢰성이 확보된다.
    그리고 클라이언트는 데이터 암호화에 사용할 대칭키를 SSL 인증서에 있던 공개키로 암호화하여 서버에 전달한다.
    클라이언트와 서버는 서로 가지게된 대칭키를 이용하여 데이터를 암호화하여 통신하게 된다.

## HTTP 메서드와 이것이 하는 역할에 대해서 설명해보세요.

1. GET

    리소스의 조회에 사용한다. 서버에 전달하고 싶은 데이터를 query(parameter, query string)을 통해 전달한다.

2. POST

    메시지 바디를 통해 서버로 요청 데이터를 전달한다. 서버는 메시지 바디를 통해 들어온 데이터를 처리하는 모든 기능을 수행한다. 주로 신규 리소스의 등록, 프로세스 처리 등에 사용한다.
    또한, 다른 메소드로 처리하기 애매한 경우 주로 사용된다.

3. PUT

    목적 리소스를 현재 메시지의 값으로 생성하거나 만약 존재한다면 기존 리소스를 삭제하고 덮어쓰기 한다.
    PUT은 POST와 다르게 클라이언트가 리소스의 위치를 알고 URI를 지정해 주어야 한다!

4. PATCH

    리소스를 부분적으로 변경한다. 지원하지 않는 경우도 있어 이런 경우 POST로 대체하여 사용.

5. DELETE

    특정 리소스의 삭제를 요청하는 데 사용.

## RESTful이란 무엇이며, 이것에 대해서 아는대로 설명해보세요.

RESTful이란 REST 방식으로 작성된 서비스를 설명할 때 일컫는 말이다.

REST방식이란 기존의 HTTP방식으로 통신을 함에 따라 해당 요청의 목적을 직관적으로 알 수 있는 것을 말한다.

예를들면 우리는 어떤 웹 페이지에 접속하거나 어떤 동작을 서버에 요청할 때 URI, URL과 함께 HTTP 메소드를 전송한다.

서버는 해당 요청을 받아 보통 서버측 데이터베이스에 대해 CRUD를 하게된다.

이는 HTTP 메소드와 대비되게 되는데 POST, GET, PUT, DELETE가 있다. C는 POST, R은 GET, U는 PUT, D는 DELETE.

위와 같이 HTTP 메소드와 URL만 보도라도 요청을 직관적으로 이해할 수 있는 것을 REST라고 한다.

그리고 해당 방식으로 작성된 API를 RESTful API라고 한다.

## CORS란 무엇이며 이것에 대해서 설명해보세요.

CORS(Cross Origin Resoures Sharing) 교차 출처 리소스 공유는 SOP(same origin policy)와 반대되는 개념으로

한 출처에서 실행 중인 웹 애플리케이션이 다른 출처의 선택한 자원에 접근할 수 있는 권한을 부여하도록 브라우저에 알려주는 체제이다.

기본적으로 브라우저는 다른 서버와 통신을 할 때 보안상의 이유로 제 3자의 서버가 개입하는 것을 금지하한다.

이를 허용해 주기 위해서 API 서버를 만들 때 CORS 설정을 통해 원하는 서버를 등록한다.

등록한 서버에 대해서는 클라이언트 별도의 요청이 안들어 간 상태에서도 서버끼리의 통신이 가능하게 된다.

## OSI7계층과 그 존재 이유, TCP/IP 4계층에 대해 설명해보세요.

OSI(Open System Intercon-nection) 7계층은 실제 인터넷에서 사용되는 TCP/IP OSI 참조 모델을 기반으로 상업적이고 실무적으로 이용될 수 있도록
단순하된 현실화의 과정에서 채택된 모형.

ISO (국제 표준기구)에 의해 도입되었다.

TCP/IP 4 계층은 TCP/IP는 현재 인터넷에서 컴퓨터들이 서로 정보를 주고받는데 쓰이는 통신규약(프로토콜)의 모음
