OAuth란 인터넷 사용자들이 비밀번호를 제공하지 않고 다른 웹사이트 상의 자신들의 정보에 대해 웹사이트나 애플리케이션의 접근 권한을 부여할 수 있는 공통적인 수단으로서 사용되는, 접근 위임을 위한 개방형 표준이다. OAuth를 통해 비밀번호 대신 Access token을 이용하여 인증 과정을 거치고 자원을 이용할 수 있게 된다.

예를 들어 우리가 어떤 사이트를 운영하는데 사용자의 구글 정보를 이용해 어떤 서비스를 제공하려고 한다면 구글로 부터 인증, 인가를 받아야한다. 구글에서 사용자가 직접 사용한다면 비밀번호를 통해 로그인을 하여 사용하면 되겠지만 우리는 사용자가 아닌 제 3자에 해당된다. 제 3자인 우리에게 비밀번호를 주고 인증을 받게 할 수는 없다. 이런 문제를 해결하기 위해 만들어진 것이 OAuth의 핵심인 Access token이다.

#### OAuth를 통한 인증 방식

여기서 사이트를 이용하는 사용자를 Resource owner, 사이트 운영자를 Client, 구글과 같은 정보 제공자를 Resource server라고 한다. 아래에서는 편하게 사용자, 운영자, 구글이라고 하겠다.

1. 기본적으로 OAuth를 통해 운영자가 구글의 정보를 제공 받기 위해서는 해당 서버에 등록이 되었어야 한다. 등록 과정을 거치면 Client id, Client secret, Rediect URL를 가지게 된다.
2. 사용자는 Client의 사이트에 있는 구글에 로그인하기 버튼을 누른다. 해당 버튼에는 구글의 인증 서버에 인가 코드를 요청하는 URL로 Client id, Client secret를 포함한다. 해당 URL을 통해 로그인을 하게되면 구글에서 어떤 정보들을 운영자에게 주려고 하는데 동의하겠냐는 창을 띄어준다. 동의를 하면 사용자의 브라우저는 Redirect URL로 인가코드를 싣고 운영자의 서버에 보내준다.
3. 운영자는 인가 코드를 받은 후 구글의 인증 서버에 인증 요청을 보낸다. 그러면 인가 코드, Client id, Client secret를 대조해본 뒤 일치한다면 Access token과 Refresh token을 부여하게 된다.
4. 이후로는 사용자가 별도의 로그인을 할 필요없이 운영자는 Access token을 통해 구글에서 해당 사용자의 정보를 제공받는다.
5. 그런데 이 Access token은 보안 문제로 인해 보통은 만료 기한이 짧다. 토큰이 만료되면 계속해서 다시 인증 절차들을 거쳐야한다.
6. 이런 부분을 해결하기 위해 Refresh token이 존재한다. 이 토큰은 만료 기한이 상대적으로 길며 오롯이 Access token을 재발급 받는 용도로 사용된다.